#include <stdlib.h>
#include <stdio.h>
#include <math.h>
//#include <tms320.h>
//#include <dsplib.h>
 
extern int fft_out[2048];
#if 1
float finput[1024]={
.4319,  -0.1904,  -0.7418,   0.5228,   0.6840,  -0.6140,  -0.2561,   0.1303,  -0.0570,   0.5579,  -0.0266,  -0.7188,   0.1533,   0.1745,   0.1101,
0.4626,   -0.5501,   -0.5080,    0.4884,    0.0923,    0.1954,    0.1166,   -0.7323,    0.0345,    0.4942,   -0.0619,    0.1200,   -0.2389,   -0.4268,    0.5463,
0.3258,  -0.5454,   -0.0832,    0.1359,    0.0097,    0.4382,   -0.2033,   -0.6892,    0.3850,    0.4650,   -0.2698,   -0.0901,   -0.0466,  -0.0706,    0.1576,
0.0099,    0.1365,   -0.0258,   -0.5275,    0.2308,    0.6145,   -0.3764,   -0.3035,    0.1219,   -0.0841,    0.4690,    0.1287,   -0.7154,    0.0442,    0.1714,
0.0777,    0.5159,   -0.3982,   -0.5232,    0.3370,    0.1254,   -0.0063,    0.0336,   -0.0791,   -0.0088,    0.0412,   -0.0050,   -0.0489,   -0.0039,   -0.1266,
0.2095,    0.3528,   -0.5282,   -0.2776,    0.5103,    0.0557,   -0.1482,   -0.0007,   -0.0798,    0.0291,    0.0314,    0.0129,    0.0451,   -0.0439,   -0.0097,
-0.0469,   -0.0429,    0.1072,    0.0015,    0.1883,   -0.0525,   -0.5925,    0.2574,    0.4238,   -0.1206,    0.1225,   -0.4151,   -0.2583,    0.5638,    0.0540,
-0.1838,    0.0038,   -0.0278,    0.0108,    0.0525,   -0.1037,   -0.2835,    0.4456,    0.4066,   -0.6055,   -0.1896,    0.3043,    0.0177,   -0.1030,    0.0284,
0.3656,   -0.2543,   -0.6677,    0.6057,    0.5779,   -0.6816,   -0.2266,    0.3449,    0.0183,   -0.1053,    0.0318,    0.4098,   -0.2505,   -0.6059,   0.3059,
0.0929,    0.2275,    0.3062,   -0.4604,  -0.0704,   -0.1991,   -0.0471,    0.5170,   -0.0468,    0.1088,   -0.2002,   -0.4960,    0.3760,    0.2221,   -0.1644,
-0.0496,    0.2355,    0.0378,   -0.6220,    0.1216,    0.5773,   -0.1660,   -0.1566,    0.0112,   -0.0397,    0.0431,    0.0234,   -0.0499,   -0.0264,    0.0800,
-0.0001,    0.1750,   -0.0784,   -0.5486,    0.3033,    0.4425,   -0.2031,    0.0508,   -0.4335,   -0.2790,    1.0000,    0.0646,   -0.8696,    0.1019,    0.0624,
0.1516,    0.5236,   -0.4223,   -0.3741,    0.2539,    0.0913,   -0.1814,   -0.1100,    0.5581,    0.0304,   -0.4785,    0.0316,   -0.2238,    0.2400,    0.3913,
-0.1897,    0.0640,   -0.4156,   -0.2043,    0.6373,    0.0168,   -0.2009,   -0.0049,   -0.1328,    0.0643,    0.0540,    0.0260,    0.0788,   -0.0922,   -0.0155,
-0.1214,   -0.0939,    0.5306,    0.0162,   -0.7003,    0.1518,    0.3845,   -0.0783,    0.0999,   -0.2853,   -0.3139,    0.6149,    0.1952,   -0.5879,   -0.0049,
0.1328,    0.0448,    0.4523,   -0.3289,   -0.6361,    0.4602,    0.3404,   -0.2406,   -0.0657,    0.0947,    0.0517,   -0.3982,    0.0000,    0.8234,   -0.2538,
-0.8412,    0.4294,   0.4508,   -0.2833,   -0.0977,    0.0958,    0.0412,   -0.3240,    0.0064,    0.6632,   -0.1775,   -0.4874,    0.1575,    0.1331,   -0.0953,
-0.1739,    0.3945,    0.3076,   -0.7044,   -0.1584,    0.4669,   -0.0040,    0.1607,   -0.1325,   -0.5681,    0.3800,    0.4370,   -0.3279,   -0.1182,    0.1167,
0.0350,   -0.2986,    0.0182,    0.6454,   -0.1907,   -0.4839,    0.1637,    0.1312,   -0.0974,   -0.1695,    0.3996,    0.2941,   -0.7083,   -0.1428,    0.4665,
-0.0083,    0.1430,   -0.1347,   -0.5360,    0.3924,    0.4522,   -0.3950,   -0.1491,    0.1183,   -0.0025,    0.0786,   -0.0048,   -0.0396,   -0.0013,   -0.0266,
0.0155,    0.0145,   -0.0045,   -0.0000,    0.0000,    0.0000,   -0.0000,   -0.0000,    0.0000,   -0.0000,   -0.0000,    0.0000,    0.0000,   -0.0034,   -0.0113,
0.0213,    0.0120,   -0.0093,    0.0040,   -0.0514,    0.0044,    0.0020,    0.0376,    0.2618,   -0.2747,   -0.5527,    0.6382,    0.5879,   -0.8333,   -0.3478,
0.6656,    0.0799,   -0.2772,    0.0100,   -0.0182,    0.0282,    0.0651,   -0.0120,    0.0425,   -0.1057,   -0.0555,    0.0200,   -0.0312,    0.4614,   -0.0718,
-0.6877,    0.1786,    0.1116,    0.1664,    0.4277,   -0.4072,   -0.1569,   -0.1357,   -0.1942,    0.6281,    0.0801,   -0.3562,    0.0228,    0.1556,   -0.1133,
-0.4009,    0.3741,    0.3381,   -0.2215,    0.0462,   -0.4668,   -0.1018,    0.8817,   -0.1170,   -0.8530,    0.3317,    0.8207,   -0.5450,   -0.6168,    0.4174,
0.0891,    0.2339,    0.2072,   -0.6724,   -0.0731,    0.4067,   -0.0256,   -0.0009,   -0.0318,   -0.0628,    0.0291,    0.0143,   -0.0195,   -0.0088,   -0.0088,
-0.0107,    0.2490,   -0.0699,   -0.6686,    0.3620,    0.9367,   -0.6478,   -0.6526,    0.3941,    0.0231,    0.3374,    0.2053,   -0.5482,   -0.0268,   -0.1181,
0.0853,    0.6856,   -0.3244,   -0.4417,    0.1394,   -0.1114,    0.4481,    0.2546,   -0.7057,   -0.0462,    0.1993,    0.0358,    0.5298,   -0.3072,   -0.6243,
0.3192,    0.1456,    0.0997,    0.2182,   -0.5540,   -0.2412,    0.8309,    0.0639,   -0.8731,    0.1563,    0.6164,   -0.2229,   -0.2306,    0.0795,   -0.0134,
0.0869,    0.0332,   -0.0287,    0.0062,   -0.2780,    0.0969,    0.6740,   -0.3953,   -0.8906,    0.6664,    0.6233,   -0.4405,   -0.0652,   -0.2667,   -0.1733,
0.6651,    0.0279,   -0.3740,    0.0360,    0.0206,    0.0129,    0.0206,   -0.0344,   -0.0811,    0.2796,    0.1567,   -0.6285,   -0.0237,    0.5304,   -0.0747,
-0.1361,    0.0076,   -0.0247,    0.0192,    0.0318,   -0.1052,   -0.1459,    0.4588,    0.1879,   -0.7854,   -0.0201,    0.8133,   -0.1960,   -0.7226,    0.4040,
0.6026,   -0.5454,   -0.3401,    0.4105,    0.0758,   -0.1131,   -0.0003,    0.0000,   -0.0000,    0.0254,   -0.0579,  -0.2423,    0.3363,    0.4708,   -0.6788,
-0.4215,    0.8083,    0.2167,   -0.8425,    0.0000,    0.8353,   -0.2075,   -0.5527,    0.2146,    0.1590,   -0.0822,   -0.0673,    0.2423,    0.1192,   -0.6341,
0.0088,    0.6670,   -0.1272,   -0.1728,   -0.0682,   -0.3526,    0.4397,    0.4976,   -0.6277,   -0.2948,    0.3992,    0.0330,    0.1622,   -0.0105,   -0.6127,
0.2063,    0.5915,   -0.2928,   -0.2460,    0.1040,   -0.0163,    0.1168,    0.0299,   -0.0464,   -0.0035,   -0.2783,    0.1413,    0.6633,   -0.4778,   -0.8671,
0.7551,    0.5738,   -0.4461,   -0.0312,   -0.3248,   -0.1227,    0.5723,   -0.0159,    0.0643,   -0.1542,   -0.7111,    0.5583,    0.6851,   -0.6611,   -0.3051,
0.4021,    0.0507,   -0.0969,    0.0006,   -0.0242,    0.0077,    0.0171,   -0.0163,   -0.0435,    0.0393,   -0.0074,    0.1401,    0.1579,   -0.5485,   -0.1299,
0.6795,   -0.0402,   -0.3387,    0.0514,    0.0092,    0.0295,    0.0339,   -0.0224,   -0.0077,    0.0219,    0.0043,    0.0152,   -0.0098,   -0.2775,    0.1631,
0.6347,   -0.4772,   -0.7512,    0.7044,    0.5365,   -0.6289,   -0.2119,    0.3022,    0.0191,    0.0415,   -0.0127,   -0.1240,    0.0079,   -0.1442,    0.2422,
0.3882,   -0.5404,   -0.2568,    0.4114,    0.0389,   -0.1319,    0.0179,    0.3288,   -0.1928,   -0.5940,    0.3311,    0.2255,    0.0938,    0.3185,   -0.7269,
-0.3638,    0.9080,    0.1240,   -0.8149,    0.0968,    0.7504,   -0.2898,   -0.5370,    0.3055,    0.1878,   -0.0962,    0.0052,   -0.0740,   -0.0106,    0.0203,
0.0089,    0.1351,   -0.0525,   -0.0257,   -0.1125,   -0.3469,    0.5097,    0.4111,   -0.4765,   -0.0644,   -0.2264,   -0.0641,    0.6411,   -0.0801,   -0.3293,
0.0703,    0.0956,   -0.1384,   -0.2508,    0.4989,    0.2612,   -0.6215,   -0.0503,    0.1726,    0.0233,    0.4337,   -0.2604,   -0.6639,    0.4385,    0.4332,
-0.2912,   -0.0799,   -0.0486,   -0.0565,    0.1598,    0.0044,    0.1521,   -0.0646,   -0.5329,    0.2923,    0.5277,   -0.3580,   -0.2060,    0.1228,   -0.0021,
0.0754,    0.0067,   -0.0395,   -0.0008,   -0.0276,    0.0120,    0.0157,   -0.0039,    0.0000,   -0.0000,   -0.0000,    0.0000,    0.0000,   -0.0000,    0.0004,
-0.0171,    0.0053,    0.0252,   -0.0019,    0.0298,   -0.0529,   -0.0445,    0.0002,   -0.0533,    0.3667,    0.0352,   -0.6843,    0.1299,    0.4686,   -0.1255,
-0.1337,    0.1077,    0.2281,   -0.4249,   -0.3515,    0.6147,    0.1554,   -0.3062,   -0.0077,    0.1463,   -0.0596,   -0.4245,    0.2961,    0.5046,   -0.3971,
-0.2066,    0.1364,   -0.0052,    0.1034,    0.0039,   -0.0499,   -0.0060,   -0.0782,    0.0379,    0.0224,    0.0596,    0.1823,   -0.3837,   -0.3515,    0.8351,
0.2832,   -0.9974,   -0.0201,    0.5100,   -0.0284,    0.2455,   -0.2755,   -0.4917,    0.4242,    0.2111,   -0.1478,    0.0045,   -0.1042,  -0.0013,    0.0511,
0.0039,    0.0543,   -0.0276,   -0.0188,   -0.0237,   -0.0571,    0.0693,    0.0062,    0.1280,    0.0862,   -0.5307,    0.0000,    0.7128,   -0.1739,   -0.4035,
0.0838,   -0.1254,    0.3494,    0.3408,   -0.6289,   -0.1412,    0.2443,    0.0018,    0.5485,   -0.2344,   -0.9870,    0.5270,    0.7508,   -0.4543,   -0.2570,
0.1491,    0.0447,   -0.1548,   -0.0795,    0.5344,   -0.0159,   -0.6250,    0.1438,    0.2611,   -0.0813,   -0.0907,    0.1823,    0.2126,   -0.5566,   -0.1599,
0.6225,   -0.0158,   -0.1633,   -0.0378,   -0.3695,    0.3135,    0.6027,   -0.5668,   -0.5287,    0.6930,    0.3680,   -0.8218,   -0.1905,    0.8884,   -0.0380,
-0.5415,    0.0699,   -0.1443,    0.3012,    0.5642,   -0.7425,   -0.4498,    0.7656,    0.1266,   -0.3626,    0.0102,    0.0865,   -0.0452,   -0.2906,    0.2808,
0.5435,   -0.5070,   -0.3682,    0.3221,    0.0744,   -0.0558,   -0.0053,    0.0280,    0.0021,    0.1751,   -0.1354,   -0.5044,    0.3781,    0.3414,   -0.1520,
0.0858,   -0.4799,   -0.1230,    0.6287,   -0.0368,   -0.1890,   -0.0036,   -0.1018,    0.0622,    0.0418,    0.0120,    0.0359,   -0.0509,   -0.0065,   -0.0503,
-0.0181,    0.1078,   -0.0010,    0.1775,   -0.1545,   -0.5187,    0.4014,    0.3355,   -0.1551,    0.0815,   -0.4852,   -0.1067,    0.6312,   -0.0473,   -0.1885,
-0.0038,   -0.1009,    0.0643,    0.0459,   -0.0014,    0.0174,   -0.0257,   -0.0045,   -0.0113,   -0.0040,    0.0278,   -0.0012,    0.0206,   -0.0195,   -0.0417,
0.0048,  -0.0569,    0.1979,    0.1736,   -0.6190,   -0.1145,    0.9891,   -0.1312,   -0.8302,    0.2024,    0.1105,    0.1717,    0.4465,   -0.5311,   -0.3516,
0.3551,    0.0651,   -0.0403,    0.0000,   -0.0000,    0.0067,    0.1757,   -0.1629,   -0.4783,    0.4169,    0.3118,   -0.1610,    0.0726,   -0.4950,   -0.0740,
0.6353,   -0.0682,   -0.1933,    0.0028,   -0.0733,    0.0507,    0.0456,   -0.0478,   -0.0469,    0.0751,   -0.0003,    0.1774,    0.0394,   -0.6024,    0.1132,
0.5028,   -0.1055,    0.1135,   -0.3353,   -0.4480,    0.7283,    0.3031,   -0.8090,   -0.0721,    0.8863,   -0.1591,   -0.7678,    0.2246,    0.1335,    0.1639,
0.4207,   -0.5591,   -0.3447,    0.3880,    0.0567,    0.0164,    0.0078,   -0.1063,    0.0097,   -0.0140,    0.0247,    0.0422,   -0.0143,    0.0187,   -0.0668,
-0.0255,    0.0059,   -0.0090,    0.3581,   -0.1131,   -0.6672,    0.3071,    0.4987,   -0.2396,   -0.1071,   -0.0198,   -0.0589,    0.1031,    0.0135,    0.0438,
0.0052,   -0.1058,   0.0063,   -0.1123,    0.1526,    0.3907,   -0.4623,   -0.3944,    0.5639,    0.1379,   -0.1533,    0.0070,   -0.5189,      0.1624,    0.7084,
-0.2488,   -0.1516,   -0.1563,   -0.3951,    0.5758,    0.3202,   -0.3941,   -0.0526,    0.0292,   -0.0007,    0.0272,   -0.0121,   -0.1329,    0.1596,    0.3820,
-0.4567,   -0.3380,    0.4553,    0.0901,   -0.1402,   -0.0004,    0.0000,   -0.0000,    0.0324,   -0.0719,   -0.2877,    0.3730,    0.4680,   -0.5684,   -0.2672,
0.3193,    0.0380,   -0.0334,    0.0000};
float data2 ,data3;
#endif
void main()
{
//FILE  *f_serial;
//int	fftPdata[8];

  int	fftdata[2048];
  int   i,j;
  int   k=0x500;
  int   log = 6;
  long  fft_log[512];
   
#if 0
  for(j=0;j<1024;j++)
  { 
	   data2 = 1.0;
	   fftdata[j] =0;            
	   finput[j] +=1.0;
	   for(i=0;i<16;i++)
	   {
	    fftdata[j] *= 2;
	    data3 =finput[j]-data2;
	    if(data3>=0)   
	    {
	      finput[j] =data3 ;
	      fftdata[j]++;
	    }               
	    data2 *=0.5; 
	    
	   }            
	   fftdata[j] =fftdata[j] +0x8000;
    }
#endif       
#if 1
  for(i=0;i<1024;i++){
    fftdata[i*2] = 0;
    fftdata[i*2+1] = 0x0;
//    k=k+0x100;
  }

  for(i=0;i<4;i++){
    fftdata[i*2] = k;
//    fftdata[i*2+1] = k;
  }
#endif

cFFT(fftdata,log);
  
   while(1);
//  cFFT(fftdata);
//  log_10(fft_out,fft_log,512);
    
//  return;
}
